<!-- Imports polymer -->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../elements/gs-lobby.html">
<link rel="import" href="../elements/gs-game.html">

<!-- Defines element markup -->
<dom-module id="gs-app">
    
    <template>
        <style></style>
        <gs-lobby hidden$="[[!showLobby]]" on-join="_onGameKeyChange"></lobby>
        <gs-game hidden$="[[showLobby]]" on-quit="_onGameKeyChange" game-key="[[gameKey]]"></game>
    </template>
    
    <!-- Registers custom element -->
    <script>
    Polymer({
        is: 'gs-app',
        properties:{
            gameKey:{
                type:String,
                value:""
            },
            showLobby:{
                type:Boolean,
                value:"true"
            }
        },
        _onGameKeyChange: function(e, gameKey){
            this.set("showLobby", gameKey != "")
            this.set('gameKey', gameKey)
        }
    });
    </script>
</dom-module>